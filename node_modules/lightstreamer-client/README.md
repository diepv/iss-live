# Lightstreamer Client #

## Use ##
Install the package using npm
```
npm install lightstreamer-client
```

Create a client and connect 

```js
var ls = require("lightstreamer-client");
var lsClient = new ls.LightstreamerClient("http://push.lightstreamer.com","DEMO");  
lsClient.connect();
```

Create a Subscription and send it to the server 

```js
var testSubscription = new ls.Subscription("MERGE",["item1","item2","item3"],["stock_name","last_price"]);
testSubscription.setDataAdapter("QUOTE_ADAPTER");
testSubscription.setRequestedSnapshot("yes");
lsClient.subscribe(testSubscription);
```
 
Listen for events
 
```js  
lsClient.addListener({
	onStatusChange: function(newStatus) {         
	  console.log(newStatus);
	}
});

testSubscription.addListener({
	onSubscription: function() {
	  console.log("SUBSCRIBED");
	},
	onUnsubscription: function() {
	  console.log("UNSUBSCRIBED");
	},
	onItemUpdate: function(obj) {
	  console.log(obj.getValue("stock_name") + ": " + obj.getValue("last_price"));
	}
});
```

For further details check the [API](http://www.lightstreamer.com/docs/client_javascript_uni_api/index.html), the [Developer Guide](http://www.lightstreamer.com/docs/client_javascript_base/JavaScript%20Client%20Guide.pdf) and the available [examples](http://demos.lightstreamer.com/?p=lightstreamer&t=client&f=collaboration&f=finance&f=gaming&f=monitoring&f=news&f=quickstart&lclient=nodejs)